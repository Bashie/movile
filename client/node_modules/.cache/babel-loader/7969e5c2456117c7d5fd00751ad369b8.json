{"ast":null,"code":"import _objectSpread from\"I:/Facu/progra CS/workspace/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect}from'react';import{useForm}from'react-hook-form';import{crearPedido,updatePedido,borrarPedido}from'../../_actions/pedidos';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function FormPedido(_ref){var getId=_ref.getId,setId=_ref.setId,dispatch=_ref.dispatch;var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,setValue=_useForm.setValue;var pedido=useSelector(function(state){return state.pedidos.find(function(pedido){return pedido._id===getId?pedido:null;});});useEffect(function(){if(getId!==0){var keys=Object.keys(pedido);keys.forEach(function(key){return setValue(key,pedido[key]);});}},[getId,pedido,setValue]);var onSubmit=function onSubmit(data){if(getId===0){if(data.dni){dispatch(crearPedido(data));reset();}}else{dispatch(updatePedido(getId,data));reset();setId(0);}};var borrar=function borrar(id){dispatch(borrarPedido(id));reset();setId(0);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"dni\",placeholder:\"DNI\"},register('dni')))}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",_objectSpread({type:\"text\",name:\"items\",placeholder:\"Items\"},register('items')))}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Guardar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){borrar(getId);},children:\"Borrar\"})]})});}","map":{"version":3,"names":["React","useEffect","useForm","crearPedido","updatePedido","borrarPedido","useSelector","FormPedido","getId","setId","dispatch","register","handleSubmit","reset","setValue","pedido","state","pedidos","find","_id","keys","Object","forEach","key","onSubmit","data","dni","borrar","id"],"sources":["I:/Facu/progra CS/workspace/client/src/components/form/FormPedido.js"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useForm } from 'react-hook-form';\r\nimport { crearPedido, updatePedido, borrarPedido } from '../../_actions/pedidos';\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function FormPedido({ getId, setId, dispatch }) {\r\n\tconst { register, handleSubmit, reset, setValue } = useForm();\r\n\tconst pedido = useSelector(state => state.pedidos.find((pedido) => pedido._id === getId ? pedido : null));\r\n\tuseEffect(() => {\r\n\t\tif (getId !== 0) {\r\n\t\t\tlet keys = Object.keys(pedido);\r\n\t\t\tkeys.forEach((key) => setValue(key, pedido[key]))\r\n\t\t}\r\n\t}, [getId, pedido, setValue])\r\n\tconst onSubmit = (data) => {\r\n\t\tif (getId === 0) {\r\n\t\t\tif (data.dni) {\r\n\t\t\t\tdispatch(crearPedido(data))\r\n\t\t\t\treset()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tdispatch(updatePedido(getId, data))\r\n\t\t\treset()\r\n\t\t\tsetId(0)\r\n\t\t}\r\n\t}\r\n\tconst borrar = (id) => {\r\n\t\tdispatch(borrarPedido(id));\r\n\t\treset()\r\n\t\tsetId(0)\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" name=\"dni\" placeholder=\"DNI\" {...register('dni')} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input type=\"text\" name=\"items\" placeholder=\"Items\" {...register('items')} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<button type=\"submit\">Guardar</button>\r\n\t\t\t\t<button onClick={() => { borrar(getId) }}>Borrar</button>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t)\r\n}"],"mappings":"uHAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,OAAT,KAAwB,iBAAxB,CACA,OAASC,WAAT,CAAsBC,YAAtB,CAAoCC,YAApC,KAAwD,wBAAxD,CACA,OAASC,WAAT,KAA4B,aAA5B,C,6IAEA,cAAe,SAASC,CAAAA,UAAT,MAAgD,IAA1BC,CAAAA,KAA0B,MAA1BA,KAA0B,CAAnBC,KAAmB,MAAnBA,KAAmB,CAAZC,QAAY,MAAZA,QAAY,CAC9D,aAAoDR,OAAO,EAA3D,CAAQS,QAAR,UAAQA,QAAR,CAAkBC,YAAlB,UAAkBA,YAAlB,CAAgCC,KAAhC,UAAgCA,KAAhC,CAAuCC,QAAvC,UAAuCA,QAAvC,CACA,GAAMC,CAAAA,MAAM,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACC,OAAN,CAAcC,IAAd,CAAmB,SAACH,MAAD,QAAYA,CAAAA,MAAM,CAACI,GAAP,GAAeX,KAAf,CAAuBO,MAAvB,CAAgC,IAA5C,EAAnB,CAAJ,EAAN,CAA1B,CACAd,SAAS,CAAC,UAAM,CACf,GAAIO,KAAK,GAAK,CAAd,CAAiB,CAChB,GAAIY,CAAAA,IAAI,CAAGC,MAAM,CAACD,IAAP,CAAYL,MAAZ,CAAX,CACAK,IAAI,CAACE,OAAL,CAAa,SAACC,GAAD,QAAST,CAAAA,QAAQ,CAACS,GAAD,CAAMR,MAAM,CAACQ,GAAD,CAAZ,CAAjB,EAAb,EACA,CACD,CALQ,CAKN,CAACf,KAAD,CAAQO,MAAR,CAAgBD,QAAhB,CALM,CAAT,CAMA,GAAMU,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,IAAD,CAAU,CAC1B,GAAIjB,KAAK,GAAK,CAAd,CAAiB,CAChB,GAAIiB,IAAI,CAACC,GAAT,CAAc,CACbhB,QAAQ,CAACP,WAAW,CAACsB,IAAD,CAAZ,CAAR,CACAZ,KAAK,GACL,CACD,CALD,IAKO,CACNH,QAAQ,CAACN,YAAY,CAACI,KAAD,CAAQiB,IAAR,CAAb,CAAR,CACAZ,KAAK,GACLJ,KAAK,CAAC,CAAD,CAAL,CACA,CACD,CAXD,CAYA,GAAMkB,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,EAAD,CAAQ,CACtBlB,QAAQ,CAACL,YAAY,CAACuB,EAAD,CAAb,CAAR,CACAf,KAAK,GACLJ,KAAK,CAAC,CAAD,CAAL,CACA,CAJD,CAKA,mBACC,sCACC,cAAM,QAAQ,CAAEG,YAAY,CAACY,QAAD,CAA5B,wBACC,kCACC,4BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,KAAxB,CAA8B,WAAW,CAAC,KAA1C,EAAoDb,QAAQ,CAAC,KAAD,CAA5D,EADD,EADD,cAIC,kCACC,4BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,OAAxB,CAAgC,WAAW,CAAC,OAA5C,EAAwDA,QAAQ,CAAC,OAAD,CAAhE,EADD,EAJD,cAOC,aAPD,cAQC,eAAQ,IAAI,CAAC,QAAb,qBARD,cASC,eAAQ,OAAO,CAAE,kBAAM,CAAEgB,MAAM,CAACnB,KAAD,CAAN,CAAe,CAAxC,oBATD,GADD,EADD,CAeA"},"metadata":{},"sourceType":"module"}
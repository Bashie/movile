{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{borrarPedido}from'../../../_actions/pedidos';import PedidoItem from'./PedidoItem';import Moment from'moment';import'moment/locale/es';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";Moment.locale('es');export default function Pedido(_ref){var marcarEntregado=_ref.marcarEntregado,pedido=_ref.pedido;var dispatch=useDispatch();var productos=useSelector(function(state){return state.productos;});var total=0;var getPrecio=function getPrecio(precio,cantidad){total+=precio*cantidad;return precio*cantidad;};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:Moment(pedido.createdAt).format('MMMM DD')}),/*#__PURE__*/_jsx(\"div\",{className:\"productos\",children:pedido.productos.map(function(p){return productos.map(function(producto){return p.producto===producto._id&&p.cantidad>0?/*#__PURE__*/_jsx(PedidoItem,{cantidad:p.cantidad,nombre:producto.nombre,precio:getPrecio(producto.precio,p.cantidad)},producto._id):null;});})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: $ \",total]})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Estado: \",pedido.estado]}),/*#__PURE__*/_jsxs(\"div\",{children:[pedido.estado==='NUEVO'?/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){marcarEntregado(pedido);},children:\"Entregar\"}):null,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){dispatch(borrarPedido(pedido._id));},children:\"Borrar\"})]})]})});}","map":{"version":3,"names":["React","useDispatch","useSelector","borrarPedido","PedidoItem","Moment","locale","Pedido","marcarEntregado","pedido","dispatch","productos","state","total","getPrecio","precio","cantidad","createdAt","format","map","p","producto","_id","nombre","estado"],"sources":["I:/Facu/progra CS/workspace/client/src/components/pedidos/pedido/Pedido.js"],"sourcesContent":["import React from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { borrarPedido } from '../../../_actions/pedidos'\r\nimport PedidoItem from './PedidoItem'\r\nimport Moment from 'moment';\r\nimport 'moment/locale/es';\r\n\r\nMoment.locale('es');\r\n\r\nexport default function Pedido({ marcarEntregado, pedido }) {\r\n\tconst dispatch = useDispatch()\r\n\tconst productos = useSelector(state => state.productos)\r\n\tlet total = 0;\r\n\tconst getPrecio = (precio, cantidad) => {\r\n\t\ttotal += precio * cantidad;\r\n\t\treturn precio * cantidad;\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div>\r\n\t\t\t\t<p>{Moment(pedido.createdAt).format('MMMM DD')}</p>\r\n\t\t\t\t<div className=\"productos\">\r\n\t\t\t\t\t{pedido.productos.map(p => {\r\n\t\t\t\t\t\treturn productos.map(producto => (p.producto === producto._id && p.cantidad > 0) ? <PedidoItem key={producto._id} cantidad={p.cantidad} nombre={producto.nombre} precio={getPrecio(producto.precio, p.cantidad)} /> : null)\r\n\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>Total: $ {total}</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<p>Estado: {pedido.estado}</p>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{pedido.estado === 'NUEVO' ? <button onClick={() => { marcarEntregado(pedido) }}>Entregar</button> : null}\r\n\t\t\t\t\t<button onClick={() => { dispatch(borrarPedido(pedido._id)) }}>Borrar</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t)\r\n}"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,YAAT,KAA6B,2BAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,MAAO,kBAAP,C,6IAEAA,MAAM,CAACC,MAAP,CAAc,IAAd,EAEA,cAAe,SAASC,CAAAA,MAAT,MAA6C,IAA3BC,CAAAA,eAA2B,MAA3BA,eAA2B,CAAVC,MAAU,MAAVA,MAAU,CAC3D,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,SAAS,CAAGT,WAAW,CAAC,SAAAU,KAAK,QAAIA,CAAAA,KAAK,CAACD,SAAV,EAAN,CAA7B,CACA,GAAIE,CAAAA,KAAK,CAAG,CAAZ,CACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,MAAD,CAASC,QAAT,CAAsB,CACvCH,KAAK,EAAIE,MAAM,CAAGC,QAAlB,CACA,MAAOD,CAAAA,MAAM,CAAGC,QAAhB,CACA,CAHD,CAIA,mBACC,sCACC,oCACC,mBAAIX,MAAM,CAACI,MAAM,CAACQ,SAAR,CAAN,CAAyBC,MAAzB,CAAgC,SAAhC,CAAJ,EADD,cAEC,YAAK,SAAS,CAAC,WAAf,UACET,MAAM,CAACE,SAAP,CAAiBQ,GAAjB,CAAqB,SAAAC,CAAC,CAAI,CAC1B,MAAOT,CAAAA,SAAS,CAACQ,GAAV,CAAc,SAAAE,QAAQ,QAAKD,CAAAA,CAAC,CAACC,QAAF,GAAeA,QAAQ,CAACC,GAAxB,EAA+BF,CAAC,CAACJ,QAAF,CAAa,CAA7C,cAAkD,KAAC,UAAD,EAA+B,QAAQ,CAAEI,CAAC,CAACJ,QAA3C,CAAqD,MAAM,CAAEK,QAAQ,CAACE,MAAtE,CAA8E,MAAM,CAAET,SAAS,CAACO,QAAQ,CAACN,MAAV,CAAkBK,CAAC,CAACJ,QAApB,CAA/F,EAAiBK,QAAQ,CAACC,GAA1B,CAAlD,CAAqL,IAAzL,EAAtB,CAAP,CACA,CAFA,CADF,EAFD,cAOC,kCACC,iCAAaT,KAAb,GADD,EAPD,cAUC,gCAAYJ,MAAM,CAACe,MAAnB,GAVD,cAWC,uBACEf,MAAM,CAACe,MAAP,GAAkB,OAAlB,cAA4B,eAAQ,OAAO,CAAE,kBAAM,CAAEhB,eAAe,CAACC,MAAD,CAAf,CAAyB,CAAlD,sBAA5B,CAAoG,IADtG,cAEC,eAAQ,OAAO,CAAE,kBAAM,CAAEC,QAAQ,CAACP,YAAY,CAACM,MAAM,CAACa,GAAR,CAAb,CAAR,CAAoC,CAA7D,oBAFD,GAXD,GADD,EADD,CAoBA"},"metadata":{},"sourceType":"module"}